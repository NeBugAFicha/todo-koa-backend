## Как запустить приложение

- Установить Docker;
- Зайти в папку приложение "todo-koa-backend"
- В терминале прописать docker-compose up -d
- После того как докер создаст два контейнера, прописать в терминале: 
  docker exec nodejs npm run migrate
- Все, готово, приложение крутится на localhost:8000, данные для входа в базу есть в файле docker-compose.yml. В базе данных уже находятся два юзера "EgorDeveloper" и "AnotherUser", у обоих пользователей пароль "12341234"
## API приложения

### ВСЕ РУТЫ КРОМЕ /registration, /login должны использоваться вместе с параметром token в headers

- POST '/registration' Регистрация пользователя
  Параметры:  
  1) body 
        - login (string, минимум 1 символ, обязательный параметр);
        - password (string, минимум 8 символов, , обязательный параметр);
  
  Возвращает токен для запросов в другие руты кроме /registration, /login:
    - token (string)

- POST '/login'  Логин
  Параметры:  
  1) body 
        - login (string, минимум 1 символ, обязательный параметр);
        - password (string, минимум 8 символов, обязательный параметр);

  Возвращает токен для запросов в другие руты кроме /registration, /login: 
    - message (string);
    - token (string);

- GET '/task_list' Лист списков задач
  Параметры:  
  1) query 
        - my_list (boolean, обязательный параметр);
  
  Возвращает лист списоков задач: my_list = true -> только собственный лист, my_list = false -> лист из списков задач, в которых есть хоть какие-либо права

- GET '/task_list/:id' Конкретный список задач
  Параметры:  
  1) params 
        - id (number, положительное число, обязательный параметр);

  Возвращает список задач, в котором есть хоть какие-либо права вместе с доступными правами для этого списка, а если есть право на создателя или чтение, то возвращаются еще и задания этого списка, 

- POST '/task_list' Создание списка задач
  Параметры:  
  1) body 
        - name (string, минимум 1 символ);
      
  Возвращает только что созданный список задач

- '/task_list/:id' Удаление списка задач (с каскадным удалением ВСЕХ его задач)
  Параметры:  
  1) params 
        - id (number, положительное число, обязательный параметр);
      
  Возвращает только что удаленный список задач

- GET '/task_list/list' Конкретный лист списков задач (свой или в котором есть права на чтение)
  Параметры:  
  1) query 
        - list_id (number, положительное число, необязательный параметр, list_id это идентификатор юзера, чьи списки задач необходимо получить);
      
  Возвращает свой лист списков задач либо лист конкретного юзера из списоков задач, в которых есть право на чтение

- GET '/task_list/:task_list_id/grant' Выдать/отнять права на какое либо действие для задач внутри  конкретного списка другому пользователю - только в своих списках
  Параметры:  
  1) query 
        - grant (string, 4 валидных значения 'Create', 'Read', 'Update', 'Delete', (нечувствителен к регистру, обязательный параметр);
        - user_id (number, положительное число, обязательный параметр);
        - take_off (boolean, необязательный параметр);
    
  2) params 
        - task_list_id (number, положительное число, обязательный параметр);
      
  Если take_off= false | undefined - дать права, если true - отнять

- GET '/task_list/:task_list_id/task/:id' - Запросить задачу в списке - в своем или в списке в котором есть права на чтение
  Параметры:  
  1) params 
        - task_list_id (number, положительное число, обязательный параметр);
        - id (number, положительное число, обязательный параметр);
      
  Возвращает конкретную задачу

- POST '/task_list/:task_list_id/task/:id' - Запросить задачу в списке - в своем или в списке в котором есть права на создание
  Параметры:  
  1) params 
        - task_list_id (number, положительное число, обязательный параметр);
      
  2) body 
        - name (string, минимум 1 символ);
      
  Возвращает созданную задачу

- DELETE '/task_list/:task_list_id/task/:id' - Запросить задачу в списке - в своем или в списке в котором есть права на удаление
  Параметры:  
  1) params 
        - task_list_id (number, положительное число, обязательный параметр),
        - id (number, положительное число, обязательный параметр),
      
  Возвращает удаленную задачу

- PUT '/task_list/:task_list_id/task/:id' - Запросить задачу в списке - в своем или в списке в котором есть права на изменение
  Параметры:  
  1) params 
        - task_list_id (number, положительное число, обязательный параметр);
        - id (number, положительное число, обязательный параметр);
      
  2) body 
        - name (string, минимум 1 символ);
      
  Возвращает обновленную задачу


  